<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Интерактивный Персонаж</title>
    <style>
        /* Основной стиль страницы */
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #1a1a2e; /* Темно-синий фон под цвет картинки */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Контейнер для изображения и текста */
        .container {
            position: relative;
            width: 800px; /* Ширина контейнера под размер изображения */
            height: 800px;
            cursor: pointer; /* Курсор в виде руки при наведении */
        }

        /* Основное изображение персонажа */
        .character-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* Стилизация текстового облака */
        .speech-bubble {
            position: absolute;
            /* Координаты подобраны, чтобы попасть в нарисованное облако */
            top: 105px; 
            left: 530px;
            width: 220px;
            height: 100px;
            /* Прозрачный фон, чтобы было видно оригинальное облако */
            background: transparent; 
            color: #333;
            font-size: 14px;
            line-height: 1.4;
            font-weight: 600;
            /* Скрываем текст, который не помещается */
            overflow: hidden;
            display: flex;
            align-items: flex-start;
            padding: 5px;
        }

        /* Курсор мигающий в конце текста (опционально) */
        #typed-text::after {
            content: '|';
            opacity: 1;
            animation: blink 0.7s infinite;
        }
        /* Анимация мигания курсора */
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
    </style>
</head>
<body>

<div class="container" onclick="startTyping()">
    <img src="character.png" alt="Персонаж" class="character-image">
    
    <div class="speech-bubble">
        <span id="typed-text"></span>
    </div>
</div>

<script>
    // Список фраз, которые будет говорить персонаж
    const phrases = [
        "Што смотришь. Я четкая ведьма.",
        "Кликни на меня еще раз, чтобы продолжить диалог.",
        "Этот текст печатается в реальном времени с помощью JavaScript.",
        "Я готова ответить на твои вопросы. Задавай!",
        "Могу рассказать анекдот или показать погоду. Что выберешь?"
    ];

    let currentPhraseIndex = 0; // Индекс текущей фразы
    let isTyping = false; // Флаг, идет ли сейчас печать

    // Функция для запуска печати текста
    function startTyping() {
        // Если текст уже печатается, выходим из функции
        if (isTyping) return;
        
        isTyping = true;
        const textElement = document.getElementById('typed-text');
        textElement.innerHTML = ''; // Очищаем предыдущий текст

        let phrase = phrases[currentPhraseIndex]; // Берем текущую фразу
        let charIndex = 0; // Индекс текущей буквы

        // Внутренняя функция, которая печатает по одной букве
        function typeChar() {
            if (charIndex < phrase.length) {
                textElement.innerHTML += phrase.charAt(charIndex);
                charIndex++;
                // Запускаем эту же функцию через 50мс для следующей буквы
                setTimeout(typeChar, 50); 
            } else {
                // Печать закончена
                isTyping = false;
                // Переходим к следующей фразе (по кругу)
                currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
            }
        }

        // Запускаем процесс печати
        typeChar();
    }

    // Запускаем первую фразу автоматически при загрузке страницы
    window.onload = startTyping;
</script>

</body>
</html>
